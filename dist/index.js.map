{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from \"react\";\nimport \"./index.scss\";\n\nexport interface IProps {\n  timeInSeconds: number;\n  totalLaps: number;\n  isRefresh?: boolean;\n  onLapInteraction: Function;\n  isPaused?: boolean;\n}\n\n/**\n * Component that counts the cycle of time\n * @param props.timeInSeconds lap time in seconds\n * @param props.totalLaps number of laps\n * @param props.isPause pause laps - true is default\n * @returns props.onLapInteraction function with data return for each lap\n */\n\nconst ReactSpinnerTimer: React.FC<IProps> = ({\n  timeInSeconds,\n  totalLaps,\n  onLapInteraction,\n  isRefresh,\n  isPaused = true\n}) => {\n  const [animationRunning, setAnimationRunning] = React.useState(true);\n  const [actualLap, setActualLap] = React.useState(1);\n  const updateLapsData = (finish: boolean) => {\n    onLapInteraction({\n      actualLap,\n      totalLaps: totalLaps,\n      isFinish: finish,\n      timeInSeconds: timeInSeconds,\n    });\n  };\n\n  const handleFinish = () => {\n    updateLapsData(true);\n  };\n\n  const handleUpdate = () => {\n    updateLapsData(false);\n    setActualLap(actualLap + 1);\n  };\n\n  const handleOnClick = () => {\n    if(isPaused) {\n      setAnimationRunning(!animationRunning);\n    }  \n  }\n\n  if (isRefresh) return <div></div>;\n\n  return (\n    <div onClick={handleOnClick}>\n      <svg version=\"1.1\" className={`base ${animationRunning ? 'running' : 'paused'}`} viewBox=\"0 0 50 50\">\n        <circle className=\"path background\" cx=\"25\" cy=\"25\" r=\"20\" />\n        <circle\n          className={`path ${animationRunning ? 'running' : 'paused'}`}\n          cx=\"25\"\n          cy=\"25\"\n          r=\"20\"\n          style={{\n            animation: `dash ${timeInSeconds}s linear ${totalLaps}`,\n            animationPlayState: `${animationRunning ? 'running' : 'paused'}`,\n          }}\n          onAnimationEnd={handleFinish}\n          onAnimationIterationCapture={handleUpdate}\n        />\n        <rect \n          width=\"18\" \n          height=\"4\"\n          y=\"18\"\n          x=\"16\"\n          r=\"20\"\n          style={{\n            visibility: animationRunning ? 'hidden': 'visible',\n            fill: 'rgb(169,169,169)',\n           }}\n          />\n          <rect \n          width=\"18\" \n          height=\"4\"\n          y=\"28\"\n          x=\"16\"\n          r=\"20\"\n          style={{\n            visibility: animationRunning ? 'hidden': 'visible',\n            fill: 'rgb(169,169,169)',\n           }}\n          />\n      </svg>\n    </div>\n  );\n};\n\nexport default ReactSpinnerTimer;\n"],"names":["React.createElement"],"mappings":";;;;;;;;;;;;;;;;;;;AAWA;;;;;;;IAQM,iBAAiB,GAAqB,UAAC,EAM5C;QALC,gCAAa,EACb,wBAAS,EACT,sCAAgB,EAChB,wBAAS,EACT,gBAAe,EAAf,oCAAe;IAET,IAAA,yBAA8D,EAA7D,wBAAgB,EAAE,2BAA2C,CAAC;IAC/D,IAAA,sBAA6C,EAA5C,iBAAS,EAAE,oBAAiC,CAAC;IACpD,IAAM,cAAc,GAAG,UAAC,MAAe;QACrC,gBAAgB,CAAC;YACf,SAAS,WAAA;YACT,SAAS,EAAE,SAAS;YACpB,QAAQ,EAAE,MAAM;YAChB,aAAa,EAAE,aAAa;SAC7B,CAAC,CAAC;KACJ,CAAC;IAEF,IAAM,YAAY,GAAG;QACnB,cAAc,CAAC,IAAI,CAAC,CAAC;KACtB,CAAC;IAEF,IAAM,YAAY,GAAG;QACnB,cAAc,CAAC,KAAK,CAAC,CAAC;QACtB,YAAY,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;KAC7B,CAAC;IAEF,IAAM,aAAa,GAAG;QACpB,IAAG,QAAQ,EAAE;YACX,mBAAmB,CAAC,CAAC,gBAAgB,CAAC,CAAC;SACxC;KACF,CAAA;IAED,IAAI,SAAS;QAAE,OAAOA,gCAAW,CAAC;IAElC,QACEA,6BAAK,OAAO,EAAE,aAAa;QACzBA,6BAAK,OAAO,EAAC,KAAK,EAAC,SAAS,EAAE,WAAQ,gBAAgB,GAAG,SAAS,GAAG,QAAQ,CAAE,EAAE,OAAO,EAAC,WAAW;YAClGA,gCAAQ,SAAS,EAAC,iBAAiB,EAAC,EAAE,EAAC,IAAI,EAAC,EAAE,EAAC,IAAI,EAAC,CAAC,EAAC,IAAI,GAAG;YAC7DA,gCACE,SAAS,EAAE,WAAQ,gBAAgB,GAAG,SAAS,GAAG,QAAQ,CAAE,EAC5D,EAAE,EAAC,IAAI,EACP,EAAE,EAAC,IAAI,EACP,CAAC,EAAC,IAAI,EACN,KAAK,EAAE;oBACL,SAAS,EAAE,UAAQ,aAAa,iBAAY,SAAW;oBACvD,kBAAkB,EAAE,MAAG,gBAAgB,GAAG,SAAS,GAAG,QAAQ,CAAE;iBACjE,EACD,cAAc,EAAE,YAAY,EAC5B,2BAA2B,EAAE,YAAY,GACzC;YACFA,8BACE,KAAK,EAAC,IAAI,EACV,MAAM,EAAC,GAAG,EACV,CAAC,EAAC,IAAI,EACN,CAAC,EAAC,IAAI,EACN,CAAC,EAAC,IAAI,EACN,KAAK,EAAE;oBACL,UAAU,EAAE,gBAAgB,GAAG,QAAQ,GAAE,SAAS;oBAClD,IAAI,EAAE,kBAAkB;iBACxB,GACA;YACFA,8BACA,KAAK,EAAC,IAAI,EACV,MAAM,EAAC,GAAG,EACV,CAAC,EAAC,IAAI,EACN,CAAC,EAAC,IAAI,EACN,CAAC,EAAC,IAAI,EACN,KAAK,EAAE;oBACL,UAAU,EAAE,gBAAgB,GAAG,QAAQ,GAAE,SAAS;oBAClD,IAAI,EAAE,kBAAkB;iBACxB,GACA,CACA,CACF,EACN;AACJ;;;;"}