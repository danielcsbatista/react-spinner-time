{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from \"react\";\nimport \"./index.scss\";\n\nexport interface IProps {\n  timeInSeconds: number;\n  totalLaps: number;\n  isRefresh?: boolean;\n  onLapInteraction: Function;\n}\n\n/**\n * Component that counts the cycle of time\n * @param props.timeInSeconds lap time in seconds\n * @param props.totalLaps number of laps\n * @returns props.onLapInteraction function with data return for each lap\n */\n\nconst ReactSpinnerTimer: React.FC<IProps> = ({\n  timeInSeconds,\n  totalLaps,\n  onLapInteraction,\n  isRefresh,\n}) => {\n  const [actualLap, setActualLap] = React.useState(1);\n\n  // const actualLap = 1;\n\n  const updateLapsData = (finish: boolean) => {\n    onLapInteraction({\n      actualLap,\n      totalLaps: totalLaps,\n      isFinish: finish,\n      timeInSeconds: timeInSeconds,\n    });\n  };\n\n  const handleFinish = () => {\n    updateLapsData(true);\n  };\n\n  const handleUpdate = () => {\n    updateLapsData(false);\n    setActualLap(actualLap + 1);\n  };\n\n  if (isRefresh) return <div></div>;\n\n  return (\n    <div>\n      <svg version=\"1.1\" className=\"base\" viewBox=\"0 0 50 50\">\n        <circle className=\"path background\" cx=\"25\" cy=\"25\" r=\"20\" />\n        <circle\n          className=\"path\"\n          cx=\"25\"\n          cy=\"25\"\n          r=\"20\"\n          style={{\n            animation: `dash ${timeInSeconds}s linear ${totalLaps}`,\n          }}\n          onAnimationEnd={handleFinish}\n          onAnimationIterationCapture={handleUpdate}\n        />\n      </svg>\n    </div>\n  );\n};\n\nexport default ReactSpinnerTimer;\n"],"names":["React.createElement"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAUA;;;;;;IAOM,iBAAiB,GAAqB,UAAC,EAK5C;QAJC,gCAAa,EACb,wBAAS,EACT,sCAAgB,EAChB,wBAAS;IAEH,IAAA,sBAA6C,EAA5C,iBAAS,EAAE,oBAAiC,CAAC;;IAIpD,IAAM,cAAc,GAAG,UAAC,MAAe;QACrC,gBAAgB,CAAC;YACf,SAAS,WAAA;YACT,SAAS,EAAE,SAAS;YACpB,QAAQ,EAAE,MAAM;YAChB,aAAa,EAAE,aAAa;SAC7B,CAAC,CAAC;KACJ,CAAC;IAEF,IAAM,YAAY,GAAG;QACnB,cAAc,CAAC,IAAI,CAAC,CAAC;KACtB,CAAC;IAEF,IAAM,YAAY,GAAG;QACnB,cAAc,CAAC,KAAK,CAAC,CAAC;QACtB,YAAY,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;KAC7B,CAAC;IAEF,IAAI,SAAS;QAAE,OAAOA,gCAAW,CAAC;IAElC,QACEA;QACEA,6BAAK,OAAO,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,OAAO,EAAC,WAAW;YACrDA,gCAAQ,SAAS,EAAC,iBAAiB,EAAC,EAAE,EAAC,IAAI,EAAC,EAAE,EAAC,IAAI,EAAC,CAAC,EAAC,IAAI,GAAG;YAC7DA,gCACE,SAAS,EAAC,MAAM,EAChB,EAAE,EAAC,IAAI,EACP,EAAE,EAAC,IAAI,EACP,CAAC,EAAC,IAAI,EACN,KAAK,EAAE;oBACL,SAAS,EAAE,UAAQ,aAAa,iBAAY,SAAW;iBACxD,EACD,cAAc,EAAE,YAAY,EAC5B,2BAA2B,EAAE,YAAY,GACzC,CACE,CACF,EACN;AACJ;;;;"}